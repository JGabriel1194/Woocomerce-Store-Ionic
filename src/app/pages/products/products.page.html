<app-header title="{{catName}}"></app-header>

<ion-content fullscreen>
    <ion-row>
        <ion-col size="6" size-md="3" size-sm="4" size-xsm="12" *ngFor="let products of products" >
            <ion-card button [routerLink]="['/','details',products.id]">
                
                <div *ngIf="products.images[0].src != null">
                    <img (load)="loaded = true" [ngClass]="{'img-loaded':loaded}" [hidden]="!loaded" src="{{products.images[0].src}}">
                    <ion-spinner [ngClass]="{'center':true}" *ngIf="!loaded"></ion-spinner>
                </div> 
                <div class="textContainer">
                    <div class="tittle">
                        {{products.name.substr(0, 12) + '...'}}
                    </div>
                    <div class="subtittle">
                        <div class="regular_price" *ngIf="products.regular_price !=''" >${{products.regular_price}}</div>
                        <div class="price">${{products.price}}</div>
                    </div>
                </div>
            </ion-card>
        </ion-col>
    </ion-row>
    <ion-infinite-scroll (ionInfinite)="loadMoreProducts($event)">
        <ion-infinite-scroll-content
            loadingSpinner="bubbles"
            loadingText="Cargando productos...">
        </ion-infinite-scroll-content>
    </ion-infinite-scroll>
</ion-content>
